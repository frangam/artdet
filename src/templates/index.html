{% extends "layout.html" %}
{% block body %}
<div class="container">
  <!-- Sección de cabecera con el botón de subida de imágenes -->
  <header class="d-flex justify-content-between align-items-center py-3 mb-4">
    <h1 class="text-primary">Detect Damage in Easel Paintings</h1>
    <form method="POST" action="{{ url_for('detection') }}" enctype="multipart/form-data">
      <input type="file" id="file-upload" name="file" class="d-none" accept="image/*" onchange="this.form.submit()">
      <label for="file-upload" class="btn btn-outline-primary">Upload Easel Painting</label>
    </form>
  </header>

  <!-- Zona de Drag & Drop en el centro -->
  <div class="drag-area" onclick="document.getElementById('file-upload').click();" ondrop="handleDrop(event)" ondragover="event.preventDefault();">
    <div class="drag-text">
      <h2>Drag & Drop Easel Painting</h2>
      <p>or click here to upload</p>
    </div>
  </div>

  <!-- Estilo minimalista y moderno -->
</div>

<style>
  /* Tipografía */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  body {
    font-family: 'Montserrat', sans-serif;
    background-color: #f4f4f9;
    color: #333;
  }

  h1 {
    font-weight: 700;
    font-size: 2rem;
  }

  /* Botón de subir imagen */
  .btn-outline-primary {
    border-color: #3498db;
    color: #3498db;
    transition: background-color 0.3s ease;
  }

  .btn-outline-primary:hover {
    background-color: #3498db;
    color: white;
  }

  /* Área de arrastrar y soltar */
  .drag-area {
    border: 2px dashed #3498db;
    border-radius: 10px;
    padding: 50px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .drag-area:hover {
    background-color: #ecf5ff;
  }

  .drag-text h2 {
    font-size: 1.8rem;
    color: #3498db;
  }

  .drag-text p {
    font-size: 1rem;
    color: #7f8c8d;
  }

  .container {
    max-width: 600px;
    margin: 0 auto;
    padding-top: 100px;
  }
</style>

<script>
  function handleDrop(event) {
    event.preventDefault();
    const files = event.dataTransfer.files;
    if (files.length) {
      const fileInput = document.getElementById('file-upload');
      fileInput.files = files;
      fileInput.form.submit();
    }
  }
</script>
{% endblock %}
