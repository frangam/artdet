{% extends "layout.html" %}
{% block body %}
<div class="container text-center mt-5">
  <!-- Título de la página -->
  <h1 class="text-primary mb-4">Detect Damage in Easel Paintings</h1>

  <!-- Área de Drag & Drop -->
  <form method="POST" action="{{ url_for('detection') }}" enctype="multipart/form-data" id="upload-form">
    <div class="drag-area" onclick="document.getElementById('file-upload').click();" ondrop="handleDrop(event)" ondragover="event.preventDefault();">
      <input type="file" id="file-upload" name="file" accept="image/*" style="display: none;" onchange="document.getElementById('upload-form').submit();">
      <div class="drag-text">
        <h2>Drag & Drop Easel Painting</h2>
        <p>or click here to upload</p>
      </div>
    </div>
  </form>
</div>

<style>
  /* Tipografía */
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
  body {
    font-family: 'Montserrat', sans-serif;
    background-color: #f4f4f9;
    color: #333;
  }

  h1 {
    font-weight: 700;
    font-size: 2rem;
  }

  /* Área de arrastrar y soltar */
  .drag-area {
    border: 2px dashed #3498db;
    border-radius: 10px;
    padding: 50px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .drag-area:hover {
    background-color: #ecf5ff;
  }

  .drag-text h2 {
    font-size: 1.8rem;
    color: #3498db;
  }

  .drag-text p {
    font-size: 1rem;
    color: #7f8c8d;
  }

  .container {
    max-width: 600px;
    margin: 0 auto;
    padding-top: 10px;
  }
</style>

<script>
  function handleDrop(event) {
    event.preventDefault();
    const files = event.dataTransfer.files;
    if (files.length) {
      const fileInput = document.getElementById('file-upload');
      fileInput.files = files;
      fileInput.form.submit();
    }
  }
</script>
{% endblock %}
